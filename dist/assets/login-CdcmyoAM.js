import{l as w,b as p,s as S}from"./app-CUjJh8TF.js";console.log("loginSignup.js loaded");function B(){const u=document.getElementById("authAlert"),a=document.getElementById("loginView"),c=document.getElementById("signupView"),y=document.getElementById("toSignup"),E=document.getElementById("toLogin"),m=document.getElementById("loginForm"),g=document.getElementById("signupForm"),v="main.html";function o(e,t){e.classList.toggle("d-none",!t)}let f;function r(e){u.textContent=e||"",u.classList.remove("d-none"),clearTimeout(f),f=setTimeout(s,5e3)}function s(){u.classList.add("d-none"),u.textContent="",clearTimeout(f)}function d(e,t){const n=e?.querySelector('[type="submit"]');n&&(n.disabled=t)}y?.addEventListener("click",e=>{e.preventDefault(),s(),o(a,!1),o(c,!0),c?.querySelector("input")?.focus()}),E?.addEventListener("click",e=>{e.preventDefault(),s(),o(c,!1),o(a,!0),a?.querySelector("input")?.focus()}),m?.addEventListener("submit",async e=>{e.preventDefault(),s();const t=document.querySelector("#loginEmail")?.value?.trim()??"",n=document.querySelector("#loginPassword")?.value??"";if(!t||!n){r("Please enter your email and password.");return}d(m,!0);try{await w(t,n),location.href=v}catch(l){r(p(l)),console.error(l)}finally{d(m,!1)}}),g?.addEventListener("submit",async e=>{e.preventDefault(),s();const t=document.querySelector("#signupName")?.value?.trim()??"",n=document.querySelector("#signupEmail")?.value?.trim()??"",l=document.querySelector("#signupPassword")?.value??"";if(!t||!n||!l){r("Please fill in name, email, and password.");return}d(g,!0);try{await S(t,n,l),r("Account created â€” please sign in."),o(c,!1),o(a,!0);const i=document.getElementById("loginEmail");i&&(i.value=n,i.focus())}catch(i){r(p(i)),console.error(i)}finally{d(g,!1)}})}document.addEventListener("DOMContentLoaded",B);
